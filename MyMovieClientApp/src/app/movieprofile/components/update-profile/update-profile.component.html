<div class="contaniner-xl">
    <div class="jumbotron jumbotron-fluid rounded" id="jumboAD">
        <div class="container">
          <h1 class="display-1">Editar Datos de la Película</h1>
          <p class="h3">¿La información acerca de tu película favorita es incorrecta?</p>
          <p class="h5">Ayudanos a resolver este malentendido :)</p>
          <p class="lead"> Llena los campos presentados a continuación con la información de la película.</p>
          <br>
          <hr class="my-4">
          <blockquote class="blockquote text-center">
            <p class="mb-0">I'm gonna make him an offer he can't refuse</p>
            <footer class="blockquote-footer">Michael Corleone, <cite title="Source Title">The GodFather</cite></footer>
          </blockquote>
        </div>
      </div>
</div>
<div class="container-fluid" id="div">
    <div class="container rounded">
        <div class="row">
          <div class="col-sm-6 rounded" *ngFor="let mov of movie" id="div1">
            <p class="h2">Datos Actuales de la Película</p>
            <br>
            <div class="leftbox">
              <br>
              <h4>Nombre:</h4>
              <h5>{{mov.nombrePelicula}}</h5>
              <br>
              <h4>Director:</h4>
              <h5>{{mov.director}}</h5>
              <br>
              <h4>Año:</h4>
              <h5>{{mov.anoPelicula}}</h5>
              <br>
              <h4>Genero:</h4>
              <h5>{{mov.genero}}</h5>
              <br>
              <h4>Idioma:</h4>
              <h5>{{mov.idioma}}</h5>
              <br>
              <h4>Estilo:</h4>
              <h5>{{mov.estilo}}</h5>
              <br>
              <h4>Nota IMDb:</h4>
              <h5>{{mov.notaIMDb}}</h5>
              <br>
              <h4>Nota Metascore:</h4>
              <h5>{{mov.notaMetascore}}</h5>
              <br>
              <h4>Nota Comunidad:</h4>
              <h5>{{mov.notaComunidad}}</h5>
              <br>
              <h4>Favorita de la Plataforma:</h4>
              <h5 *ngIf="mov.favorito === true" >Sí</h5>
              <h5 *ngIf="mov.favorito === false" >No</h5>
              <br>
              </div>
          </div>
          <div class="col-sm-6 rounded" id="div2">
            <p class="h2">Nuevos Datos de la Película</p>
            <br>
            <form [formGroup]="moviesForm" (ngSubmit)="onSubmit()">
              <div class="form-group row">
                  <label for="MovieName" class="col-5 col-form-label h4 text-center"><p class="h4">Nombre:</label>
                  <div class="col">
                    <input type="text" class="form-control" formControlName="name" id="MovieName" [(ngModel)]="nameSelected">
                  </div>
              </div>
              <br>
              <div class="form-group row">
                  <label for="DirectorName" class="col-5 col-form-label h4 text-center"><p class="h4">Director:</p></label>
                  <div class="col">
                    <input type="text" class="form-control" formControlName="director" id="DirectorName" [(ngModel)]="directorSelected">
                  </div>
              </div>
              <br>
              <div class="form-group row">
                  <label for="Year" class="col-5 col-form-label h4 text-center"><p class="h4">Año:</p></label>
                  <div class="col">
                      <input   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                      type = "number"
                      maxlength = "4" class="form-control" formControlName="year" [(ngModel)]="yearSelected" id="Year">
                  </div>
              </div>
              <br>
              <div class="form-group row">
                  <label for="GenreSelector" class="col-5 col-form-label h4 text-center"><p class="h4">Género:</p></label>
                  <div class="col">
                      <select class="form-control" id="GenraSelector" formControlName="genre" name="gSelector"  [(ngModel)]="genreSelected" required>
                          <option value="" disabled>Escoja un Género</option>
                          <option *ngFor="let gn of genres$"  [ngValue]="gn.id">{{gn.nombre}}</option>
                      </select>
                  </div>
              </div>
              <br>
              <div class="form-group row">
                  <label for="LangSelector" class="col-5 col-form-label h4 text-center"><p class="h4">Idioma:</p></label>
                  <div class="col">
                      <select class="form-control" formControlName="language" id="LangSelector" name="lSelector" [(ngModel)]="langSelected" required>
                          <option value="" disabled>Escoja un Idioma</option>
                          <option *ngFor="let la of langs$" [ngValue]="la.id">{{la.nombre}}</option>
                      </select>
                  </div>
              </div>
              <br>
              <div class="form-group row">
                  <label for="StyleSelector" class="col-5 col-form-label h4 text-center"><p class="h4"> Estilo:</p></label>
                  <div class="col">
                      <select class="form-control" formControlName="style" id="StyleSelector" name="sSelector" [(ngModel)]="styleSelected" required>
                          <option value="" disabled>Escoja un Estilo</option>
                          <option *ngFor="let st of styles$" [ngValue]="st.id">{{st.nombre}}</option>
                      </select>
                  </div>
              </div>
              <br>
              <div class="form-group row">
                  <label for="MdbSelector" class="col-5 col-form-label h4 text-center"><p class="h4">Nota IMDb:</p></label>
                  <div class="col">
                      <select class="form-control " formControlName="notaMdb" id="mdbSelector"  [(ngModel)]="notaMDbSelected" name="mSelector" required>
                          <option value="" disabled>Nota Mdb</option>
                          <option *ngFor="let nota of Notas" [ngValue]="nota">{{nota}}</option>
                      </select>
                  </div>
              </div>
              <br> 
              <div class="form-group row">
                  <label for="metaSelector" class="col-5 col-form-label h4 text-center"><p class="h4">Nota Metascore:</p></label>
                  <div class="col">
                      <select class="form-control" formControlName="notaMeta" id="metaSelector"  [(ngModel)]="notaMetaSelected" name="meSelector" required>
                          <option value="" disabled>Nota Metascore</option>
                          <option *ngFor="let nota of Notas" [ngValue]="nota">{{nota}}</option>
                      </select>
                  </div>
              </div>
              <br>
              <div class="form-group row">
                  <label for="favSelector" class="col-5 col-form-label h4 text-center"><p class="h4">Favorita de la Plataforma?:</label>
                  <div class="col">
                      <select class="form-control " formControlName="fav" id="favSelector"  [(ngModel)]="sysFav" name="fSelector" required>
                          <option value="" disabled>Opciones</option>
                          <option *ngFor="let f of Favs" [ngValue]="f">{{f}}</option>
                      </select>
                  </div>
              </div> 
              <br>
              <div class="form-group row">
                  <br>
                  <div class="col">
                      <button type="submit" [disabled]="!moviesForm.valid" class="btn" id="agbtn"><strong>Agregar Película</strong>
                      </button>
                  </div>
              </div>
              <br>                 
            </form>
          </div>
    </div>
</div>
<div class="container-fluid" id="div">
  <div class="container rounded">
    <div class="row">
      <div class="col-sm-6 rounded" *ngFor="let mov of movie" id="div1">
        <img src="{{mov.imagen}}" class="align-self-start mr-3" height="480" width="350">
      </div>
      <div class="col-sm-6 rounded" >
        <input type="file" (change)="onChange($event)" id="imageS"/>
        <br>
        <div class="container" *ngIf="myimage">
        <img [src]="myimage | async" width="350px" height="450px" alt="" />
        </div>
      </div>
    </div>
      
    </div>
  </div>
</div>

